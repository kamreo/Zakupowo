@model ShopApp.ViewModels.CashOutViewModel

@Styles.Render("~/bundles/Order")

<div class="cash mx-auto mt-lg-4">
    <form method="post">
        <div class="row cash-header text-center">
            <div class="col-12"><h3>Zamówienie</h3></div>
        </div>
        <hr>
        <div class="row cash-address shadow m-0 mt-2 p-3">
            <div class="col-12 text-center">
                <h5>Dane odbiorcy</h5>
            </div>
            <div class="col-12 col-lg-7 m-2 mx-auto">
                <select class="form-control">
                    @for (int x = 1; x <= Model.ShippingAdresses.Count(); x++)
                    {
                        <option>adres @x</option>
                    }
                </select>
            </div>
            @foreach (var Adress in Model.ShippingAdresses)
            {
                <div class="col-12 col-lg-7 m-2 mx-auto">
                    <input type="hidden" value="@Adress.AdressID" />
                    <p>@Adress.User.FirstName @Adress.User.LastName</p>
                    <p>@Adress.Street</p>
                    <p>@Adress.PostalCode @Adress.City</p>
                    <p>@Adress.User.Phone</p>
                </div>
            }
        </div>
        <div class="cash-offers shadow m-0 mt-2 mt-lg-4 p-3">
            @foreach (var seller in Model.GroupedBucketItems)
            {
            <div class="items-group mt-1">
                <div class="row items-header">
                    <div class="col-12 items-seller">
                        <p class="pl-4">od: <a class="seller-name">@seller.Key.Login</a></p>
                    </div>
                </div>
                @foreach (var item in seller)
                {
                    if (item.Offer != null)
                    {
                        <div class="row item justify-content-center align-items-center text-center">
                            <div class="col-6 col-lg-4 item-image">
                                <img class="img-fluid" src="@item.Offer.OfferPictures.First().PathToFile">
                            </div>
                            <div class="col-6 col-lg-4 item-desc">
                                <p><a class="product-name" href="#">@item.Offer.Title</a></p>
                                <p class="product-price">@item.Quantity @item.Offer.Price zł</p>
                                <p class="product-price">@(item.Quantity * item.Offer.Price) zł</p>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="row item justify-content-center align-items-center text-center">
                            <div class="col-6 col-lg-4 item-image">
                                <img class="img-fluid" src="@item.Bundle.Offers.First().OfferPictures.First().PathToFile">
                            </div>
                            <div class="col-6 col-lg-4 item-desc">
                                <p><a class="product-name" href="#">@item.Bundle.Title</a></p>
                                <p class="product-price">@item.Bundle.BundlePrice zł</p>
                            </div>
                        </div>
                    }

                }
                <hr>
                <div class="row items-footer text-center">
                    <div class="col-12">
                        <p class="items-sum">Razem: /*JS*/</p>
                    </div>
                </div>
            </div>
            }
        </div>
        <div class="row cash-message shadow m-0 mt-2 mt-lg-4 p-3">
            <div class="col-12 mb-1 text-center"><h5>Wiadomość dla sprzedającego</h5></div>
            <div class="col-12 mx-lg-auto col-lg-6">
                <input type="text" class="form-control" id="exampleFormControlTextarea1" rows="5">
            </div>
        </div>
        <div class="row cash-summary shadow m-0 mt-2 mt-lg-4 mb-2 mb-lg-4 p-3 text-center">
            <div class="col-12"><h5>Podsumowanie zamówienia</h5></div>
            <div class="col-12">
                <p class="cash-sum-text">Razem do zapłaty: </p>
                <p class="cash-sum">/*JS*/ zł</p>
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-primary cashout-btn p-3">KUPUJĘ</button>
            </div>
        </div>
    </form>
</div>